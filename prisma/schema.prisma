generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id            Int      @unique(map: "User_pk") @default(autoincrement())
  email         String   @unique(map: "unique14") @db.VarChar(100)
  password_hash String   @unique(map: "unique15") @db.VarChar(200)
  updated_at    DateTime @default(now()) @updatedAt @db.Timestamp(0)
  created_at    DateTime @default(now()) @db.Timestamp(0)
  auth_token    String   @unique(map: "unique16") @db.VarChar(200)
  first_name    String   @db.VarChar(100)
  second_name   String   @db.VarChar(100)
}

model UserInfo {
  id              Int    @unique(map: "unique11") @default(autoincrement())
  user_id         Int    @unique(map: "UserInfo_pk")
  phone_number    String @default("") @db.VarChar(20)
  company_name    String @default("") @db.VarChar(100)
  INN             String @default("") @db.VarChar(30)
  payment_account String @default("") @db.VarChar(30)
  bank_id         String @default("") @db.VarChar(30)
}

model Categories {
  id       Int    @unique(map: "unique8") @default(autoincrement())
  Category String @unique(map: "Categories_pk2") @db.VarChar(500)
}

model Prices {
  id        Int    @unique(map: "Prices_pk") @default(autoincrement())
  Subject   String @unique(map: "Prices_pk1") @db.VarChar(500)
  FullPrice Int
  Price     Int
}

model Stores {
  id    Int    @unique(map: "unique5") @default(autoincrement())
  Store String @unique(map: "Stores_pk2") @db.VarChar(500)
}

model Subjects {
  id                     Int     @unique(map: "unique2") @default(autoincrement())
  FullName               String? @db.Text
  Store                  String  @db.Text
  Category               String  @db.Text
  Subject                String  @db.Text
  CommissionPercentage   Int
  CostLogisticsBox       Int
  CostLogisticsMonopalet Int
  CostStorageBox         Float
  CostStorageMonopalet   Int
  CostReceptionBox       Int
  CostReceptionMonopalet Int
  CostReceptionSupersafe Int
  NeedCalculation        Boolean
}

model Turnover {
  id       Int    @unique(map: "Turnover_pk") @default(autoincrement())
  Category String @unique(map: "Turnover_pk2") @db.VarChar(500)
  Turnover Int
}

model Calculations {
  id       Int     @unique(map: "Calculations_pk") @default(autoincrement())
  user_id  Int?
  Store    String? @db.VarChar(500)
  Category String? @db.VarChar(500)
  Subject  String? @db.VarChar(500)
  Name     String? @db.VarChar(500)
  Brand    String? @db.VarChar(500)
  Color    String? @db.VarChar(500)
  Size     String? @db.VarChar(500)
  Count    Int?
  Cost     Int?
  Barcode  String? @db.VarChar(14)
}
